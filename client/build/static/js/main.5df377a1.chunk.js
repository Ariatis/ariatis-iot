(this["webpackJsonpariatis-iot"]=this["webpackJsonpariatis-iot"]||[]).push([[0],{103:function(e,t,a){},104:function(e,t,a){},128:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(28),c=a.n(l),o=a(46),u=a(16),i=(a(103),a(104),a(8)),s=a(9),p=a(11),d=a(10),m=a(12),E=a(48),h=a(62),y=a(40),f=a(130),C=a(131),b=a(83),v=a(132),O=a(139),g=a(33),_=function(e){return r.a.createElement(O.a,null,r.a.createElement(O.a.Header,null,e.title),r.a.createElement(O.a.Body,null,r.a.createElement(O.a.Text,null,e.text)),r.a.createElement(O.a.Footer,null,r.a.createElement(g.LinkContainer,{to:e.url},r.a.createElement(O.a.Link,{href:"#"},r.a.createElement("small",null,e.link)))))},T=function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{id:"home"},r.a.createElement(f.a,null,r.a.createElement(C.a,null,r.a.createElement(b.a,{xs:12},r.a.createElement("h2",null,"Bienvenue dans votre outil de gestion et de dashboarding"))),r.a.createElement(C.a,{id:"creation"},r.a.createElement(b.a,{xs:12,className:"home-section-title"},r.a.createElement("h3",null,"Espace de cr\xe9ation")),r.a.createElement(v.a,null,r.a.createElement(b.a,{xs:12,sm:6,md:4},r.a.createElement(_,{title:"Cr\xe9er un client",text:"Cette interface vous permet de cr\xe9er un client puis ensuite les parcs et capteurs.",url:"/creationclient",link:"Cr\xe9er un client"})),r.a.createElement(b.a,{xs:12,sm:6,md:4},r.a.createElement(_,{title:"Cr\xe9er un parc",text:"Cette interface vous permet de cr\xe9er un parc en l'associant \xe0 un client puis ses capteurs.",url:"/",link:"Cr\xe9er un parc (feature en cours)"})),r.a.createElement(b.a,{xs:12,sm:6,md:4},r.a.createElement(_,{title:"Cr\xe9er vos capteurs",text:"Cette interface vous permet de cr\xe9er vos capteurs en les associant \xe0 un client et un parc.",url:"/",link:"Cr\xe9er les capteurs (feature en cours)"})))),r.a.createElement(C.a,{id:"gestion"},r.a.createElement(b.a,{xs:12,className:"home-section-title"},r.a.createElement("h3",null,"Espace de gestion")),r.a.createElement(v.a,null,r.a.createElement(b.a,{xs:12,sm:6,md:4},r.a.createElement(_,{title:"G\xe9rer vos clients",text:"Cette interface vous permet de g\xe9rer vos clients ainsi que les parcs et capteurs qui leur sont associ\xe9s.",url:"/gererclient",link:"Gestion des clients"})),r.a.createElement(b.a,{xs:12,sm:6,md:4},r.a.createElement(_,{title:"G\xe9rer vos parcs",text:"Cette interface vous permet de g\xe9rer l'ensemble de vos parcs par clients ainsi que les capteurs qui leur sont associ\xe9s.",url:"/gererparc",link:"Gestion des parcs"})),r.a.createElement(b.a,{xs:12,sm:6,md:4},r.a.createElement(_,{title:"G\xe9rer vos capteurs",text:"Cette interface vous permet de g\xe9rer l'ensemble de vos capteurs par clients et/ou parcs.",url:"/gerercapteur",link:"Gestion des capteurs"}))))))}}]),t}(n.Component),P=a(20),j=a(37),I=a(136),k=a(84),D=a(13),N=a(14),R=a.n(N);function L(){return function(e){R.a.get("/clients").then((function(t){e({type:"GET_CLIENTS",payload:t.data})})).catch((function(t){e({type:"GET_CLIENTS_REJECTED",payload:t})}))}}function S(e){return function(t){R.a.get("/clients/"+e).then((function(e){t({type:"GET_ONE_CLIENT",payload:e.data})})).catch((function(e){t({type:"GET_ONE_CLIENT_REJECTED",payload:e})}))}}function A(){return function(e){e({type:"CLEAR_ONE_CLIENT",payload:[]})}}function w(e){return function(t){R.a.post("/clients",e).then((function(e){t({type:"POST_CLIENT",payload:e.data})})).catch((function(e){t({type:"POST_CLIENT_REJECTED",payload:e})}))}}function G(e,t){return function(a){R.a.put("/clients/"+e,t).then((function(n){a({type:"UPDATE_CLIENT",payload:n.data,id:e,datas:t})})).catch((function(e){a({type:"UPDATE_CLIENT_REJECTED",payload:e})}))}}function x(e){return function(t){R.a.delete("/clients/"+e).then((function(a){t({type:"DELETE_CLIENT",payload:e})})).catch((function(e){t({type:"DELETE_CLIENT_REJECTED",payload:e})}))}}function B(){return function(e){R.a.get("/parcs").then((function(t){e({type:"GET_PARCS",payload:t.data})})).catch((function(t){e({type:"GET_PARCS_REJECTED",payload:t})}))}}function M(e){return function(t){R.a.get("/parcs/"+e).then((function(e){t({type:"GET_ONE_PARC",payload:e.data})})).catch((function(e){t({type:"GET_ONE_PARC_REJECTED",payload:e})}))}}function U(){return function(e){e({type:"CLEAR_ONE_PARC",payload:[]})}}function J(e){return function(t){R.a.post("/parcs",e).then((function(e){t({type:"POST_PARC",payload:e.data})})).catch((function(e){t({type:"POST_PARC_REJECTED",payload:e})}))}}function V(e,t){return function(a){R.a.put("/parcs/"+e,t).then((function(n){a({type:"UPDATE_PARC",payload:n.data,id:e,datas:t})})).catch((function(e){a({type:"UPDATE_PARC_REJECTED",payload:e})}))}}function H(e){return function(t){R.a.delete("/parcs/"+e).then((function(a){t({type:"DELETE_PARC",payload:e})})).catch((function(e){t({type:"DELETE_PARC_REJECTED",payload:e})}))}}function q(){return function(e){R.a.get("/capteurs").then((function(t){e({type:"GET_CAPTEURS",payload:t.data})})).catch((function(t){e({type:"GET_CAPTEURS_REJECTED",payload:t})}))}}function K(e){return function(t){R.a.get("/capteurs/"+e).then((function(e){t({type:"GET_ONE_CAPTEUR",payload:e.data})})).catch((function(e){t({type:"GET_ONE_CAPTEUR_REJECTED",payload:e})}))}}function z(){return function(e){e({type:"CLEAR_ONE_CAPTEUR",payload:[]})}}function W(e){return function(t){R.a.post("/capteurs",e).then((function(e){t({type:"POST_CAPTEUR",payload:e.data})})).catch((function(e){t({type:"POST_CAPTEUR_REJECTED",payload:e})}))}}function X(e,t){return function(a){R.a.put("/capteurs/"+e,t).then((function(n){a({type:"UPDATE_CAPTEUR",payload:n.data,id:e,datas:t})})).catch((function(e){a({type:"UPDATE_CAPTEUR_REJECTED",payload:e})}))}}function F(e){return function(t){R.a.delete("/capteurs/"+e).then((function(a){t({type:"DELETE_CAPTEUR",payload:e})})).catch((function(e){t({type:"DELETE_CAPTEUR_REJECTED",payload:e})}))}}var $=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={client:{},parc:{},capteur:[],clientName:!1,parcName:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"inputName",value:function(e){this.setState(Object(j.a)({},e.target.name,!1))}},{key:"newClient",value:function(){document.getElementById("ajout-client").style.display="block",document.getElementById("ajout-parc").style.display="none",document.getElementById("ajout-capteur").style.display="none",document.getElementById("ajout-capteur-form").reset(),this.setState({client:{},parc:{},capteur:[]})}},{key:"newParc",value:function(){document.getElementById("ajout-parc").style.display="block",document.getElementById("ajout-capteur").style.display="none",document.getElementById("ajout-capteur-form").reset(),this.setState({parc:{},capteur:[]})}},{key:"addClient",value:function(e){e.preventDefault();var t=document.getElementById("clientName").value,a={nom:t,description:document.getElementById("clientDesc").value};""!==t?this.postClient(a):this.setState({clientName:!0})}},{key:"postClient",value:function(e){this.props.postClient(e),this.setState({client:{nom:e.nom,description:e.description}}),document.getElementById("ajout-client").style.display="none",document.getElementById("ajout-parc").style.display="block",document.getElementById("ajout-client-form").reset()}},{key:"updateClient",value:function(e,t){this.props.updateClient(e,t)}},{key:"addParc",value:function(e){e.preventDefault();var t=document.getElementById("parcName").value,a=document.getElementById("parcDesc").value,n={clientID:this.state.client.id,nom:t,description:a};""!==t?this.postParc(n):this.setState({parcName:!0})}},{key:"postParc",value:function(e){this.props.postParc(e),this.setState({parc:{nom:e.nom,description:e.description}}),document.getElementById("ajout-parc").style.display="none",document.getElementById("ajout-capteur").style.display="block",document.getElementById("ajout-parc-form").reset()}},{key:"updateParc",value:function(e,t){this.props.updateParc(e,t)}},{key:"addCapteur",value:function(e){e.preventDefault();var t=document.getElementById("nomCapteur").value,a=document.getElementById("refModele").value,n=document.getElementById("constructeur").value,r=document.getElementById("typeMesure").value,l=document.getElementById("uniteMesure").value,c=document.getElementById("reseau").value,o=document.getElementById("latitude").value,u=document.getElementById("longitude").value,i={clientID:this.state.client.id,parcID:this.state.parc.id,nom:t,refModele:a,constructeur:n,typeMesure:r,uniteMesure:l,reseau:c,latitude:o,longitude:u};""!==t&&""!==a&&""!==n&&""!==r&&""!==l&&""!==c&&this.postCapteur(i)}},{key:"postCapteur",value:function(e){this.props.postCapteur(e);var t=Object(P.a)(this.state.capteur);t.push(e),this.setState({capteur:t}),document.getElementById("ajout-capteur-form").reset()}},{key:"updateCapteur",value:function(e,t){this.props.updateCapteur(e,t)}},{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement(f.a,null,r.a.createElement(C.a,null,r.a.createElement(b.a,{xs:12,md:6},r.a.createElement(O.a,{id:"ajout-client"},r.a.createElement(O.a.Header,null,r.a.createElement(O.a.Title,null,"Cr\xe9er un client")),r.a.createElement(O.a.Body,null,r.a.createElement(I.a,{onSubmit:this.addClient.bind(this),id:"ajout-client-form"},r.a.createElement(I.a.Group,{controlId:"clientName"},r.a.createElement(I.a.Control,{type:"text",placeholder:"Nom du client",onChange:this.inputName.bind(this)}),this.state.clientName&&r.a.createElement(I.a.Text,{className:"error"},"Vous devez entrer un nom pour votre client")),r.a.createElement(I.a.Group,{controlId:"clientDesc"},r.a.createElement(I.a.Control,{as:"textarea",rows:"3",placeholder:"Description du client"})),r.a.createElement(k.a,{type:"submit"},"Ajouter votre client")))),r.a.createElement(O.a,{id:"ajout-parc"},r.a.createElement(O.a.Header,null,r.a.createElement(O.a.Title,null,"Cr\xe9er un parc")),r.a.createElement(O.a.Body,null,r.a.createElement(I.a,{onSubmit:this.addParc.bind(this),id:"ajout-parc-form"},r.a.createElement(I.a.Group,{controlId:"parcName"},r.a.createElement(I.a.Control,{type:"text",placeholder:"Nom du parc",onChange:this.inputName.bind(this)}),this.state.parcName&&r.a.createElement(I.a.Text,{className:"error"},"Vous devez entrer un nom pour votre parc")),r.a.createElement(I.a.Group,{controlId:"parcDesc"},r.a.createElement(I.a.Control,{as:"textarea",rows:"3",placeholder:"Description du parc"})),r.a.createElement(k.a,{type:"submit"},"Ajouter votre parc")))),r.a.createElement(O.a,{id:"ajout-capteur"},r.a.createElement(O.a.Header,null,r.a.createElement(O.a.Title,null,"Ajouter un capteur")),r.a.createElement(O.a.Body,null,r.a.createElement(I.a,{onSubmit:this.addCapteur.bind(this),id:"ajout-capteur-form"},r.a.createElement(I.a.Group,{controlId:"nomCapteur"},r.a.createElement(I.a.Label,null,"Nom du capteur"),r.a.createElement(I.a.Control,{type:"text",placeholder:"Mon capteur 1",name:"nomCapteur"})),r.a.createElement(I.a.Group,{controlId:"refModele"},r.a.createElement(I.a.Label,null,"R\xe9f\xe9rence du mod\xe8le"),r.a.createElement(I.a.Control,{type:"text",placeholder:"R\xe9f\xe9rence du capteur",name:"refModele"})),r.a.createElement(I.a.Group,{controlId:"constructeur"},r.a.createElement(I.a.Label,null,"Constructeur"),r.a.createElement(I.a.Control,{type:"text",placeholder:"Constructeur du capteur",name:"constructeur"})),r.a.createElement(I.a.Group,{controlId:"typeMesure"},r.a.createElement(I.a.Label,null,"Type de mesure"),r.a.createElement(I.a.Control,{as:"select",name:"typeMesure"},r.a.createElement("option",null,"Pluviom\xe9trie"),r.a.createElement("option",null,"Vitesse"),r.a.createElement("option",null,"Temp\xe9rature"),r.a.createElement("option",null,"Position GPS"),r.a.createElement("option",null,"Volume"),r.a.createElement("option",null,"Poids"))),r.a.createElement(I.a.Group,{controlId:"uniteMesure"},r.a.createElement(I.a.Label,null,"Unit\xe9 de mesure"),r.a.createElement(I.a.Control,{as:"select",name:"uniteMesure"},r.a.createElement("option",null,"mm"),r.a.createElement("option",null,"km/h"),r.a.createElement("option",null,"\xb0C"),r.a.createElement("option",null,"Coordonn\xe9es GPS"),r.a.createElement("option",null,"m3"),r.a.createElement("option",null,"Kg"))),r.a.createElement(I.a.Group,{controlId:"reseau"},r.a.createElement(I.a.Label,null,"R\xe9seau utilis\xe9"),r.a.createElement(I.a.Control,{type:"text",placeholder:"Sigfox, ...",name:"reseau"})),r.a.createElement(I.a.Group,{controlId:"latitude"},r.a.createElement(I.a.Label,null,"Latitude"),r.a.createElement(I.a.Control,{type:"text",placeholder:"2.294481"})),r.a.createElement(I.a.Group,{controlId:"longitude"},r.a.createElement(I.a.Label,null,"Longitude"),r.a.createElement(I.a.Control,{type:"text",placeholder:"48.858370"})),r.a.createElement(k.a,{type:"reset"},"Annuler"),r.a.createElement(k.a,{variant:"primary",type:"submit"},"Enregistrer"))))),r.a.createElement(b.a,{xs:12,md:6},r.a.createElement(O.a,{id:"recap"},r.a.createElement(O.a.Header,null,r.a.createElement(O.a.Title,null,"R\xe9capitulatif")),r.a.createElement(O.a.Body,null,void 0!==this.state.client.nom&&r.a.createElement("div",{className:"recap-section"},r.a.createElement("h4",{className:"client-title"},"Votre Client"),r.a.createElement("span",{className:"client-name"},this.state.client.nom),r.a.createElement("br",null),r.a.createElement("span",{className:"client-desc"},this.state.client.description)),void 0!==this.state.parc.nom&&r.a.createElement("div",{className:"recap-section"},r.a.createElement("h4",{className:"client-title"},"Les Parcs"),r.a.createElement("span",{className:"client-name"},this.state.parc.nom),r.a.createElement("br",null),r.a.createElement("span",{className:"client-desc"},this.state.parc.description)),this.state.capteur.length>0&&r.a.createElement("h4",{className:"client-title"},"Liste des Capteurs"),this.state.capteur.map((function(e,t){return r.a.createElement("p",{key:t},e.nom)})))),this.state.capteur.length>0&&r.a.createElement("div",null,r.a.createElement(k.a,{onClick:this.newParc.bind(this)},"Ajouter un nouveau parc"),r.a.createElement(k.a,{onClick:this.newClient.bind(this)},"Cr\xe9er un nouveau client"))))))}}]),t}(n.Component);var Q=Object(u.b)(null,(function(e){return Object(D.b)({postClient:w,updateClient:G,postParc:J,updateParc:V,postCapteur:W,updateCapteur:X},e)}))($),Y=function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{id:"creation"},r.a.createElement(f.a,null,r.a.createElement(C.a,null,r.a.createElement(b.a,{xs:12},r.a.createElement(Q,null)))))}}]),t}(n.Component),Z=a(133),ee=a(134),te=a(36),ae=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).props.getOneClient(a.props.clientID),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"modifyClient",value:function(e){var t={nom:document.getElementById("clientName").value,description:document.getElementById("clientDesc").value};this.props.updateClient(e,t),this.props.handler()}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{id:"modifier-client"},r.a.createElement(f.a,null,r.a.createElement(C.a,null,r.a.createElement(b.a,{xs:12},r.a.createElement(O.a,null,r.a.createElement(O.a.Header,null,r.a.createElement(O.a.Title,null,"Modifier un client")),r.a.createElement(O.a.Body,null,this.props.oneClient.length>0&&this.props.oneClient.map((function(t,a){return r.a.createElement(I.a,{key:a},r.a.createElement(I.a.Group,{controlId:"clientName"},r.a.createElement(I.a.Control,{type:"text",defaultValue:t.nom})),r.a.createElement(I.a.Group,{controlId:"clientDesc"},r.a.createElement(I.a.Control,{as:"textarea",rows:"3",defaultValue:t.description})),r.a.createElement(k.a,{onClick:e.props.handler},"Retour"),r.a.createElement(k.a,{onClick:e.modifyClient.bind(e,t._id)},"Modifier votre client"))}))))))))}}]),t}(n.Component);var ne=Object(u.b)((function(e){return{oneClient:e.clients.oneClient}}),(function(e){return Object(D.b)({getOneClient:S,updateClient:G},e)}))(ae),re=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).props.getClients(),a.props.getParcs(),a.props.getCapteurs(),a.state={updateClient:"",deleteClient:"",clientNom:"",update:!1,show:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"finishedUpdate",value:function(){this.props.clearOneClient(),this.setState({update:!this.state.update})}},{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(e,t){this.setState({show:!0,deleteClient:e,clientNom:t})}},{key:"deleteClient",value:function(){this.props.deleteClient(this.state.deleteClient),this.setState({show:!1})}},{key:"updateClient",value:function(e){this.setState({updateClient:e,update:!this.state.update})}},{key:"render",value:function(){var e=this,t=this.props.clients.length>0&&this.props.clients.map((function(t,a){var n=0;e.props.parcs.map((function(e){return e.clientID===t._id&&(n+=1),n}));var l=0;return e.props.capteurs.map((function(e){return e.clientID===t._id&&(l+=1),l})),r.a.createElement("tr",{key:t._id,id:t._id},r.a.createElement("td",null,t.nom),r.a.createElement("td",null,t.description),r.a.createElement("td",null,n),r.a.createElement("td",null,l),r.a.createElement("td",null,r.a.createElement(te.a,{icon:"pencil-alt",onClick:e.updateClient.bind(e,t._id)}),r.a.createElement(te.a,{icon:"times",onClick:e.handleShow.bind(e,t._id,t.nom)})))}));return r.a.createElement("section",{id:"gerer-client"},r.a.createElement(f.a,null,r.a.createElement(C.a,null,r.a.createElement(b.a,{xs:12},this.state.update?r.a.createElement(ne,{clientID:this.state.updateClient,handler:this.finishedUpdate.bind(this)}):r.a.createElement(Z.a,{striped:!0,bordered:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Clients"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Parcs"),r.a.createElement("th",null,"Capteurs"),r.a.createElement("th",null,"Gestion"))),r.a.createElement("tbody",null,t))),r.a.createElement(ee.a,{show:this.state.show,onHide:this.handleClose.bind(this)},r.a.createElement(ee.a.Header,{closeButton:!0},r.a.createElement(ee.a.Title,null,"Suppression de votre client ",this.state.clientNom)),r.a.createElement(ee.a.Body,null,r.a.createElement("p",null,"Etes-vous certain de vouloir supprimer  ",this.state.clientNom," ?"),r.a.createElement(k.a,{variant:"secondary",onClick:this.handleClose.bind(this)},"Annuler"),r.a.createElement(k.a,{variant:"danger",onClick:this.deleteClient.bind(this)},"Supprimer"))))))}}]),t}(n.Component);var le=Object(u.b)((function(e){return{clients:e.clients.clients,capteurs:e.capteurs.capteurs,parcs:e.parcs.parcs}}),(function(e){return Object(D.b)({getClients:L,deleteClient:x,clearOneClient:A,getParcs:B,getCapteurs:q},e)}))(re),ce=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).props.getOneParc(a.props.parcID),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"modifyParc",value:function(e){var t={nom:document.getElementById("parcName").value,description:document.getElementById("parcDesc").value};this.props.updateParc(e,t),this.props.handler()}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{id:"modifier-client"},r.a.createElement(f.a,null,r.a.createElement(C.a,null,r.a.createElement(b.a,{xs:12},r.a.createElement(O.a,null,r.a.createElement(O.a.Header,null,r.a.createElement(O.a.Title,null,"Modifier un parc")),r.a.createElement(O.a.Body,null,this.props.oneParc.length>0&&this.props.oneParc.map((function(t,a){return r.a.createElement(I.a,{key:a},r.a.createElement(I.a.Group,{controlId:"parcName"},r.a.createElement(I.a.Control,{type:"text",defaultValue:t.nom})),r.a.createElement(I.a.Group,{controlId:"parcDesc"},r.a.createElement(I.a.Control,{as:"textarea",rows:"3",defaultValue:t.description})),r.a.createElement(k.a,{onClick:e.props.handler},"Retour"),r.a.createElement(k.a,{onClick:e.modifyParc.bind(e,t._id)},"Modifier votre parc"))}))))))))}}]),t}(n.Component);var oe=Object(u.b)((function(e){return{oneParc:e.parcs.oneParc}}),(function(e){return Object(D.b)({getOneParc:M,updateParc:V},e)}))(ce),ue=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).props.getClients(),a.props.getParcs(),a.props.getCapteurs(),a.state={updateParc:"",deleteParc:"",parcNom:"",update:!1,show:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"finishedUpdate",value:function(){this.props.clearOneParc(),this.setState({update:!this.state.update})}},{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(e,t){this.setState({show:!0,deleteParc:e,parcNom:t})}},{key:"updateParc",value:function(e){this.setState({updateParc:e,update:!this.state.update})}},{key:"deleteParc",value:function(){this.props.deleteParc(this.state.deleteParc),this.setState({show:!1})}},{key:"render",value:function(){var e=this,t=this.props.parcs.length>0&&this.props.parcs.map((function(t){var a=0;e.props.capteurs.map((function(e){return e.parcID===t._id&&(a+=1),a}));var n=e.props.clients.map((function(e){return e._id!==t.clientID||e.nom}));return r.a.createElement("tr",{key:t._id,id:t._id},r.a.createElement("td",null,t.nom),r.a.createElement("td",null,t.description),r.a.createElement("td",null,n),r.a.createElement("td",null,a),r.a.createElement("td",null,r.a.createElement(te.a,{icon:"pencil-alt",onClick:e.updateParc.bind(e,t._id)}),r.a.createElement(te.a,{icon:"times",onClick:e.handleShow.bind(e,t._id,t.nom)})))}));return r.a.createElement("section",{id:"gerer-parc"},r.a.createElement(f.a,null,r.a.createElement(C.a,null,r.a.createElement(b.a,{xs:12},this.state.update?r.a.createElement(oe,{parcID:this.state.updateParc,handler:this.finishedUpdate.bind(this)}):r.a.createElement(Z.a,{striped:!0,bordered:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Parcs"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Clients"),r.a.createElement("th",null,"Capteurs"),r.a.createElement("th",null,"Gestion"))),r.a.createElement("tbody",null,t))),r.a.createElement(ee.a,{show:this.state.show,onHide:this.handleClose.bind(this)},r.a.createElement(ee.a.Header,{closeButton:!0},r.a.createElement(ee.a.Title,null,"Suppression de votre parc: ",this.state.parcNom)),r.a.createElement(ee.a.Body,null,r.a.createElement("p",null,"Etes vous certain de vouloir supprimer ",this.state.parcNom," ?"),r.a.createElement(k.a,{variant:"secondary",onClick:this.handleClose.bind(this)},"Annuler"),r.a.createElement(k.a,{variant:"danger",onClick:this.deleteParc.bind(this)},"Supprimer"))))))}}]),t}(n.Component);var ie=Object(u.b)((function(e){return{clients:e.clients.clients,capteurs:e.capteurs.capteurs,parcs:e.parcs.parcs}}),(function(e){return Object(D.b)({getClients:L,getParcs:B,deleteParc:H,clearOneParc:U,getCapteurs:q},e)}))(ue),se=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).props.getOneCapteur(a.props.capteurID),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"modifyCapteur",value:function(e){var t={nom:document.getElementById("nomCapteur").value,refModele:document.getElementById("refModele").value,constructeur:document.getElementById("constructeur").value,typeMesure:document.getElementById("typeMesure").value,uniteMesure:document.getElementById("uniteMesure").value,reseau:document.getElementById("reseau").value,latitude:document.getElementById("latitude").value,longitude:document.getElementById("longitude").value};this.props.updateCapteur(e,t),this.props.handler()}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{id:"modifier-client"},r.a.createElement(f.a,null,r.a.createElement(C.a,null,r.a.createElement(b.a,{xs:12},r.a.createElement(O.a,null,r.a.createElement(O.a.Header,null,r.a.createElement(O.a.Title,null,"Modifier un parc")),r.a.createElement(O.a.Body,null,this.props.oneCapteur.length>0&&this.props.oneCapteur.map((function(t,a){return r.a.createElement(I.a,{key:a},r.a.createElement(I.a.Group,{controlId:"nomCapteur"},r.a.createElement(I.a.Label,null,"Nom du capteur"),r.a.createElement(I.a.Control,{type:"text",defaultValue:t.nom,name:"nomCapteur"})),r.a.createElement(I.a.Group,{controlId:"refModele"},r.a.createElement(I.a.Label,null,"R\xe9f\xe9rence du mod\xe8le"),r.a.createElement(I.a.Control,{type:"text",defaultValue:t.refModele,name:"refModele"})),r.a.createElement(I.a.Group,{controlId:"constructeur"},r.a.createElement(I.a.Label,null,"Constructeur"),r.a.createElement(I.a.Control,{type:"text",defaultValue:t.constructeur,name:"constructeur"})),r.a.createElement(I.a.Group,{controlId:"typeMesure"},r.a.createElement(I.a.Label,null,"Type de mesure"),r.a.createElement(I.a.Control,{as:"select",defaultValue:t.typeMesure,name:"typeMesure"},r.a.createElement("option",null,"Pluviom\xe9trie"),r.a.createElement("option",null,"Vitesse"),r.a.createElement("option",null,"Temp\xe9rature"),r.a.createElement("option",null,"Position GPS"),r.a.createElement("option",null,"Volume"),r.a.createElement("option",null,"Poids"))),r.a.createElement(I.a.Group,{controlId:"uniteMesure"},r.a.createElement(I.a.Label,null,"Unit\xe9 de mesure"),r.a.createElement(I.a.Control,{as:"select",defaultValue:t.uniteMesure,name:"uniteMesure"},r.a.createElement("option",null,"mm"),r.a.createElement("option",null,"km/h"),r.a.createElement("option",null,"\xb0C"),r.a.createElement("option",null,"Coordonn\xe9es GPS"),r.a.createElement("option",null,"m3"),r.a.createElement("option",null,"Kg"))),r.a.createElement(I.a.Group,{controlId:"reseau"},r.a.createElement(I.a.Label,null,"R\xe9seau utilis\xe9"),r.a.createElement(I.a.Control,{type:"text",defaultValue:t.reseau,name:"reseau"})),r.a.createElement(I.a.Group,{controlId:"latitude"},r.a.createElement(I.a.Label,null,"Latitude"),r.a.createElement(I.a.Control,{type:"text",defaultValue:t.latitude})),r.a.createElement(I.a.Group,{controlId:"longitude"},r.a.createElement(I.a.Label,null,"Longitude"),r.a.createElement(I.a.Control,{type:"text",defaultValue:t.longitude})),r.a.createElement(k.a,{onClick:e.props.handler},"Retour"),r.a.createElement(k.a,{onClick:e.modifyCapteur.bind(e,t._id)},"Modifier votre capteur"))}))))))))}}]),t}(n.Component);var pe=Object(u.b)((function(e){return{oneCapteur:e.capteurs.oneCapteur}}),(function(e){return Object(D.b)({updateCapteur:X,getOneCapteur:K},e)}))(se),de=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).props.getCapteurs(),a.props.getClients(),a.props.getParcs(),a.state={deleteCapteur:"",updateCapteur:"",capteurNom:"",clientNom:"",parcNom:"",update:!1,show:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"finishedUpdate",value:function(){this.props.clearOneCapteur(),this.setState({updateCapteur:"",update:!this.state.update})}},{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(e,t,a,n){this.setState({show:!0,deleteCapteur:e,capteurNom:t,clientNom:a,parcNom:n})}},{key:"updateCapteur",value:function(e){this.setState({updateCapteur:e,update:!this.state.update})}},{key:"deleteCapteur",value:function(){this.props.deleteCapteur(this.state.deleteCapteur),this.setState({show:!1})}},{key:"render",value:function(){var e=this,t=this.props.capteurs.length>0&&this.props.capteurs.map((function(t){var a=e.props.clients.map((function(e){return e._id!==t.clientID||e.nom})),n=e.props.parcs.map((function(e){return e._id!==t.parcID||e.nom}));return r.a.createElement("tr",{key:t._id,id:t._id},r.a.createElement("td",null,t.nom),r.a.createElement("td",null,t.refModele),r.a.createElement("td",null,t.constructeur),r.a.createElement("td",null,t.typeMesure),r.a.createElement("td",null,t.uniteMesure),r.a.createElement("td",null,t.reseau),r.a.createElement("td",null,"x: ",t.latitude," y: ",t.longitude),r.a.createElement("td",null,a),r.a.createElement("td",null,n),r.a.createElement("td",null,r.a.createElement(te.a,{icon:"pencil-alt",onClick:e.updateCapteur.bind(e,t._id)}),r.a.createElement(te.a,{icon:"times",onClick:e.handleShow.bind(e,t._id,t.nom,a,n)})))}));return r.a.createElement("section",{id:"gerer-capteur"},r.a.createElement(f.a,null,r.a.createElement(C.a,null,r.a.createElement(b.a,{xs:12},this.state.update?r.a.createElement(pe,{capteurID:this.state.updateCapteur,handler:this.finishedUpdate.bind(this)}):r.a.createElement(Z.a,{striped:!0,bordered:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Capteur"),r.a.createElement("th",null,"R\xe9f\xe9rence"),r.a.createElement("th",null,"Constructeur"),r.a.createElement("th",null,"Type de mesure"),r.a.createElement("th",null,"Unit\xe9 de mesure"),r.a.createElement("th",null,"R\xe9seau"),r.a.createElement("th",null,"Coordonn\xe9es"),r.a.createElement("th",null,"Clients"),r.a.createElement("th",null,"Parcs"),r.a.createElement("th",null,"Gestion"))),r.a.createElement("tbody",null,t))),r.a.createElement(ee.a,{show:this.state.show,onHide:this.handleClose.bind(this)},r.a.createElement(ee.a.Header,{closeButton:!0},r.a.createElement(ee.a.Title,null,"Suppression du capteur: ",this.state.capteurNom)),r.a.createElement(ee.a.Body,null,r.a.createElement("p",null,"Etes vous certain de vouloir supprimer ",this.state.capteurNom," ?"),r.a.createElement("p",null,"Client : ",this.state.clientNom),r.a.createElement("p",null,"Parcs : ",this.state.parcNom),r.a.createElement(k.a,{variant:"secondary",onClick:this.handleClose.bind(this)},"Annuler"),r.a.createElement(k.a,{variant:"danger",onClick:this.deleteCapteur.bind(this)},"Supprimer"))))))}}]),t}(n.Component);var me=Object(u.b)((function(e){return{capteurs:e.capteurs.capteurs,clients:e.clients.clients,parcs:e.parcs.parcs}}),(function(e){return Object(D.b)({getCapteurs:q,deleteCapteur:F,clearOneCapteur:z,getClients:L,getParcs:B},e)}))(de),Ee=function(){return r.a.createElement("main",null,r.a.createElement(y.g,null,r.a.createElement(y.d,{exact:!0,path:"/",component:T}),r.a.createElement(y.d,{path:"/creationclient",component:Y}),r.a.createElement(y.d,{path:"/gererclient",component:le}),r.a.createElement(y.d,{path:"/gererparc",component:ie}),r.a.createElement(y.d,{path:"/gerercapteur",component:me})))},he=a(137),ye=a(138),fe=a(135),Ce=a(86),be=a.n(Ce),ve=function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(he.a,{bg:"light",expand:"lg"},r.a.createElement(he.a.Brand,null,r.a.createElement(g.LinkContainer,{to:"/"},r.a.createElement("img",{src:be.a,alt:"Logo Ariatis"}))),r.a.createElement(he.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(he.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(ye.a,{className:"mr-auto"},r.a.createElement(fe.a,{title:"Espace de cr\xe9ation",id:"basic-nav-dropdown"},r.a.createElement(g.LinkContainer,{to:"/creationclient"},r.a.createElement(ye.a.Link,{eventKey:4},"Nouveau client")),r.a.createElement(g.LinkContainer,{to:"/"},r.a.createElement(ye.a.Link,{eventKey:5},"Nouveau parc")),r.a.createElement(g.LinkContainer,{to:"/"},r.a.createElement(ye.a.Link,{eventKey:6},"Nouveau capteur"))),r.a.createElement(fe.a,{title:"Espace de gestion",id:"basic-nav-dropdown"},r.a.createElement(g.LinkContainer,{to:"/gererclient"},r.a.createElement(ye.a.Link,{eventKey:1},"des clients")),r.a.createElement(g.LinkContainer,{to:"/gererparc"},r.a.createElement(ye.a.Link,{eventKey:2},"des parcs")),r.a.createElement(g.LinkContainer,{to:"/gerercapteur"},r.a.createElement(ye.a.Link,{eventKey:3},"des capteurs"))))))}}]),t}(n.Component);E.b.add(h.a,h.c,h.b);var Oe=function(e){function t(){return Object(i.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement(ve,null),r.a.createElement(Ee,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ge(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _e(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ge(a,!0).forEach((function(t){Object(j.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ge(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Pe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Te(a,!0).forEach((function(t){Object(j.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Te(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function je(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ie(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?je(a,!0).forEach((function(t){Object(j.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):je(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ke=Object(D.c)({capteurs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{capteurs:[],oneCapteur:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CAPTEURS":return _e({},e,{capteurs:Object(P.a)(t.payload)});case"GET_CAPTEURS_REJECTED":return t.payload;case"GET_ONE_CAPTEUR":case"CLEAR_ONE_CAPTEUR":return _e({},e,{oneCapteur:t.payload});case"GET_ONE_CAPTEUR_REJECTED":return t.payload;case"POST_CAPTEUR":return _e({},e,{capteurs:[].concat(Object(P.a)(e.capteurs),[t.payload])});case"POST_CAPTEUR_REJECTED":return t.payload;case"DELETE_CAPTEUR":var a=e.capteurs.filter((function(e){return e._id!==t.payload}));return _e({},e,{capteurs:a});case"DELETE_CAPTEUR_REJECTED":return t.payload;case"UPDATE_CAPTEUR":if(t.payload.ok>0){var n=Object(P.a)(e.capteurs),r=t.datas,l=n[n.findIndex((function(e){return e._id===t.id}))],c={_id:l._id,clientID:l.clientID,parcID:l.parcID,constructeur:r.constructeur,latitude:r.latitude,longitude:r.longitude,nom:r.nom,refModele:r.refModele,reseau:r.reseau,typeMesure:r.typeMesure,uniteMesure:r.uniteMesure};return n[n.findIndex((function(e){return e._id===t.id}))]=c,_e({},e,{capteurs:n,msg:"Votre capteur a bien \xe9t\xe9 modifi\xe9",style:"success"})}return _e({},e,{msg:"Aucun capteur n'a \xe9t\xe9 modifi\xe9",style:"alert"});case"UPDATE_CAPTEUR_REJECTED":return _e({},e,{payload:t.payload,msg:"Oups quelque chose s'est mal d\xe9roul\xe9 ! R\xe9essayez plus tard.",style:"danger"});default:return e}},clients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clients:[],oneClient:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CLIENTS":var a=Object(P.a)(t.payload);return a.sort((function(e,t){var a=e.nom,n=t.nom;return a.toLowerCase()>n.toLowerCase()?1:-1})),Pe({},e,{clients:a});case"GET_CLIENTS_REJECTED":return t.payload;case"GET_ONE_CLIENT":case"CLEAR_ONE_CLIENT":return Pe({},e,{oneClient:t.payload});case"GET_ONE_CLIENT_REJECTED":return t.payload;case"POST_CLIENT":return Pe({},e,{clients:[].concat(Object(P.a)(e.clients),[t.payload])});case"POST_CLIENT_REJECTED":return t.payload;case"DELETE_CLIENT":var n=e.clients.filter((function(e){return e._id!==t.payload}));return Pe({},e,{clients:n});case"DELETE_CLIENT_REJECTED":return t.payload;case"UPDATE_CLIENT":if(t.payload.ok>0){var r=Object(P.a)(e.clients),l=t.datas,c={_id:r[r.findIndex((function(e){return e._id===t.id}))]._id,nom:l.nom,description:l.description};return r[r.findIndex((function(e){return e._id===t.id}))]=c,Pe({},e,{clients:r,msg:"Votre client a bien \xe9t\xe9 modifi\xe9",style:"success"})}return Pe({},e,{msg:"Aucun client n'a \xe9t\xe9 modifi\xe9",style:"alert"});case"UPDATE_CLIENT_REJECTED":return Pe({},e,{payload:t.payload,msg:"Oups quelque chose s'est mal d\xe9roul\xe9 ! R\xe9essayez plus tard.",style:"danger"});default:return e}},parcs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{parcs:[],oneParc:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PARCS":var a=Object(P.a)(t.payload);return a.sort((function(e,t){var a=e.nom,n=t.nom;return a.toLowerCase()>n.toLowerCase()?1:-1})),Ie({},e,{parcs:a});case"GET_PARCS_REJECTED":return t.payload;case"GET_ONE_PARC":case"CLEAR_ONE_PARC":return Ie({},e,{oneParc:t.payload});case"GET_ONE_PARC_REJECTED":return t.payload;case"POST_PARC":return Ie({},e,{parcs:[].concat(Object(P.a)(e.parcs),[t.payload])});case"POST_PARC_REJECTED":return t.payload;case"DELETE_PARC":var n=e.parcs.filter((function(e){return e._id!==t.payload}));return Ie({},e,{parcs:n});case"DELETE_PARC_REJECTED":return t.payload;case"UPDATE_PARC":if(t.payload.ok>0){var r=Object(P.a)(e.parcs),l=t.datas,c=r[r.findIndex((function(e){return e._id===t.id}))],o={_id:c._id,clientID:c.clientID,nom:l.nom,description:l.description};return r[r.findIndex((function(e){return e._id===t.id}))]=o,Ie({},e,{parcs:r,msg:"Votre client a bien \xe9t\xe9 modifi\xe9",style:"success"})}return Ie({},e,{msg:"Aucun client n'a \xe9t\xe9 modifi\xe9",style:"alert"});case"UPDATE_PARC_REJECTED":return Ie({},e,{payload:t.payload,msg:"Oups quelque chose s'est mal d\xe9roul\xe9 ! R\xe9essayez plus tard.",style:"danger"});default:return e}}}),De=a(90),Ne=a(91),Re=a(92),Le=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||D.d,Se=Object(D.a)(Object(Re.a)(),Ne.a,Object(De.createLogger)()),Ae=Object(D.e)(ke,Le(Se));c.a.render(r.a.createElement(u.a,{store:Ae},r.a.createElement(o.BrowserRouter,null,r.a.createElement(Oe,null))),document.getElementById("root"));t.default=Ae;"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},86:function(e,t,a){e.exports=a.p+"static/media/ariatis_logo_full.3163df45.png"},93:function(e,t,a){e.exports=a(128)}},[[93,1,2]]]);
//# sourceMappingURL=main.5df377a1.chunk.js.map